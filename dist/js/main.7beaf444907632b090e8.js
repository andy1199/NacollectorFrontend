(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1lvT":function(t,e,i){"use strict";(function(t){var s=i("SUzi"),a=i("LvDl"),o=i.n(a);const n={_currentInfoAdd(t,e,i,a){s.a.current.inputs[t]={label:e,inputSel:"#"+i},a&&(s.a.current.inputs[t].validator=a)},_genBaseFormGroup:(e,i)=>t(`\n      <div class="form-group">\n      <label for="${e}">${i}</label>\n      </div>\n    `).appendTo(s.a.sel.form),_genBaseTextInput(e,i,s,a){let o=t(`\n      <input id="${e}" name="${i}" type="text"\n              class="form-control" autocomplete="off" spellcheck="false"\n              placeholder="输入文字" value="${a=a||""}">\n    `);return o.appendTo(this._genBaseFormGroup(e,s)),o},_genBaseTextarea(e,i,s,a){return a=a||"",t(`<textarea id="${e}" name="${i}" class="form-control" spellcheck="false" placeholder="输入文字"></textarea>`).html(a).appendTo(this._genBaseFormGroup(e,s))},textInput(t,e,i,s){let a="TaskGen_"+t,o=this._genBaseTextInput(a,t,e,i);return this._currentInfoAdd(t,e,a,s),o},numberInput(t,e,i,s,a){s=s||"",a=a||"";let o="TaskGen_"+t,n=this._genBaseTextInput(o,t,e,i);return n.attr("type","number"),n.attr("placeholder","输入数字"),n.attr("min",s),n.attr("max",a),this._currentInfoAdd(t,e,o),n},textareaInput(t,e,i,s){let a="TaskGen_"+t,o=this._genBaseTextarea(a,t,e,i);return s&&o.css("height",s),this._currentInfoAdd(t,e,a),o},selectInput(e,i,s,a){let n="TaskGen_"+e,l=`<select id="${n}" name="${e}" class="form-control">`;o.a.each(s,(t,e)=>{l+=`<option value="${e="number"!=typeof e?e:t}" ${e===a?"selected":""}>${t}</option>`});let r=t(l+="</select>");return r.appendTo(this._genBaseFormGroup(n,i)),this._currentInfoAdd(e,i,n),r}};e.a=n}).call(this,i("EVdn"))},"3ZqZ":function(t,e,i){"use strict";(function(t){var s=i("JJEk"),a=i("PIYe");const o=window.AppConfig,n={check(e,i){e=e||!1;let n={type:"GET",url:o.updateCheckUrl,dataType:"json",data:{token:o.updateCheckToken},beforeSend(){},success:t=>{"function"==typeof i&&i(t);let o=t.latest||null;if(o&&o!==a.a.version){let e=t.updateLog&&t.updateLog.hasOwnProperty(o)?t.updateLog[o]:"无说明";s.a.Dialog.open(`Nacollector 可更新至 ${t.latest} 版本`,e,["现在更新",()=>{if(!t.updateRes||!t.updateRes.hasOwnProperty(o))return void s.a.Notify.error("更新地址获取失败");let e="a";t.updateType&&t.updateType.hasOwnProperty(o)&&(e=t.updateType[o]),a.a.appUpdateAction(t.updateRes[o],e)}],["以后再说",()=>{}])}else e||s.a.Notify.success("暂无更新")},error:()=>{"function"==typeof i&&i(null),e||s.a.Notify.error("更新信息获取失败")}};t.ajax(n)}};e.a=n}).call(this,i("EVdn"))},"4P3Q":function(t,e,i){"use strict";(function(t){var s=i("PIYe"),a=i("JJEk"),o=i("t/PT"),n=i("6yn5");const l={init(){s.a.utilsReqIeProxy();let e=a.a.Sidebar.register(this.sidebarKey);e.setTitle("设置","#0089ff"),e.setWidth(360);let i=t('<div class="setting"></div>');Object(o.a)(this,(e,s)=>t(n.a`
        <div class="setting-group" data-setting-sidebar-group="${e}">
          <h2 class="setting-group-title">${s}</h2>
        </div>
      `).appendTo(i)),e.setInner(i)},get(t){let e=JSON.parse(localStorage.getItem("setting"))||{};return e.hasOwnProperty(t)?e[t]:null},set(t,e){let i=JSON.parse(localStorage.getItem("setting"))||{};i[t]=e,localStorage.setItem("setting",JSON.stringify(i))},sidebarKey:"setting",getSidebar(){return a.a.Sidebar.get(this.sidebarKey)}};e.a=l}).call(this,i("EVdn"))},"6aol":function(t,e,i){"use strict";(function(t){var s=i("JJEk"),a=i("AYhj"),o=i("6yn5");const n={init(){let t=s.a.Sidebar.register("taskManager");t.setTitle("任务列表","#4265c7"),t.setWidth(450),t.setInner('<div class="task-manager"></div>')},getItemSel:t=>'[data-taskmanager-taskid="'+t+'"]',addItem(e){if(!a.a.get(e))throw Error("未找到此任务 "+e);let i=a.a.get(e),s=t(o.a`
      <div class="task-item" data-taskmanager-taskid="${e}">
        <div class="left">
          <i class="zmdi zmdi-view-carousel" data-toggle="task-show"></i>
        </div>
        <div class="right">
          <h2 class="task-title" data-toggle="task-show">${i.getClassLabel()}</h2>
          <p class="task-desc"><span class="task-id">任务ID：${e}</span></p>
          <div class="action-bar">
            <a class="action-btn" data-toggle="task-show"><i class="zmdi zmdi-layers"></i> 显示</a>
            <a class="action-btn" data-toggle="task-remove"><i class="zmdi zmdi-close"></i> 删除</a>
          </div>
        </div>
      </div>`);s.find('[data-toggle="task-show"]').click(()=>{a.a.show(e)}),s.find('[data-toggle="task-remove"]').click(()=>{a.a.get(e).remove()}),s.prependTo(this.getLayer().getElem().find(".task-manager"))},removeItem(e){if(0===t(this.getItemSel(e)).length)throw Error(`未找到此任务 ${e}`);setTimeout(()=>{console.log(this.getItemSel(e)),t(this.getItemSel(e)).remove()},20)},toggleLayer(){this.getLayer().toggle()},getLayer:()=>s.a.Sidebar.get("taskManager")};e.a=n}).call(this,i("EVdn"))},"8lsf":function(t,e,i){},"9w4m":function(t,e,i){"use strict";(function(t){i.d(e,"a",function(){return a});var s=i("6yn5");const a={list:{},currentDisplayedKey:null,register(t){if(this.list.hasOwnProperty(t))throw Error(`侧边栏层：${t} 已存在于list中`);let e=new o(t);return this.list[t]=e,e},get(t){return this.list.hasOwnProperty(t)?this.list[t]:null}};class o{constructor(e){this._key=e,this._elem=t(s.a`<div class="sidebar-block" data-sidebar-layer-key="${e}" />`),this._elem.appendTo(this.getLayerElem()),this._width=360}getKey(){return this._key}getElem(){return this._elem}setTitle(e,i){let a=t(s.a`
      <div class="sidebar-header">
        <div class="header-left">${e}</div>
        <div class="header-right">
          <button type="button" data-toggle="sidebar-layer-hide"><i class="zmdi zmdi-close"></i></button>
        </div>
      </div>
    `);i&&a.css("background",i),a.prependTo(this.getElem()),this.getElem().find('[data-toggle="sidebar-layer-hide"]').click(()=>{this.hide()})}setInner(e){t('<div class="sidebar-inner"></div>').appendTo(this.getElem()).append(e)}setWidth(t){t&&!isNaN(parseInt(t))&&(this._width=parseInt(t)),this.getElem().css("width",`${this._width}px`).css("transform",`translate(${this._width}px, 0px)`)}show(){if(null!==a.currentDisplayedKey&&a.currentDisplayedKey!==this.getKey()&&a.get(a.currentDisplayedKey).hide(),a.currentDisplayedKey===this.getKey())throw Error("侧边栏层："+this.getKey()+" 已显示");t(this.getLayerElem()).hasClass("show")||t(this.getLayerElem()).addClass("show"),this.setWidth(),this.getElem().css("transform","translate("+(this.getElem().width()+10)+"px, 0px)").addClass("show"),t("body").css("overflow","hidden"),0!==t(".sidebar-layer > .sidebar-block.show").length&&this.getElem().insertAfter(t(".sidebar-layer > .sidebar-block.show:last-child")),setTimeout(()=>{t(document).bind("click.sidebar-layer-"+this.getKey(),e=>{!t(e.target).is(this.getLayerElem())&&t(e.target).closest(this.getLayerElem()).length||this.hide()})},20),a.currentDisplayedKey=this.getKey()}hide(){if(null===a.currentDisplayedKey||a.currentDisplayedKey!==this.getKey())throw Error("侧边栏层："+this.getKey()+" 未显示");this.getElem().removeClass("show"),0===t(".sidebar-layer > .sidebar-block.show").length&&(t(this.getLayerElem()).removeClass("show"),t("body").css("overflow","")),t(document).unbind("click.sidebar-layer-"+this.getKey()),a.currentDisplayedKey=null}toggle(){this.isShow()?this.hide():this.show()}isShow(){return t(this.getLayerElem()).hasClass("show")&&this.getElem().hasClass("show")}getInnerElem(){return this.getElem().find(".sidebar-inner")}getLayerElem(){let e=t(".sidebar-layer");return 0===e.length&&(e=t('<div class="sidebar-layer" />').appendTo("body")),e}}}).call(this,i("EVdn"))},AYhj:function(t,e,i){"use strict";(function(t){var s=i("Bl1Y"),a=i("J66h"),o=i("rQQZ"),n=i("6aol");const l=window.TaskController;window.taskItem=o.a;const r={sel:{runtime:".task-runtime"},list:{},currentDisplayedId:null,createTask(t,e,i){let s=(new Date).getTime().toString(),a=new o.a(s,t,e,i);return this.list[s]=a,l.createTask(s,t,e,JSON.stringify(i)).then(t=>{a.show(),r.taskManagerLayer.addItem(s)}),a},get(t){return this.list.hasOwnProperty(t)?this.list[t]:null},getCurrent(){return this.get(this.currentDisplayedId)?this.get(this.currentDisplayedId):null},show(e){if(!this.get(e))throw Error(`未找到任务 ${e}`);null!==this.getCurrent()&&this.hide();let i=this.get(e),a=this.sel.runtime,o=i.getSel();t(o).show(),t(a).show(),t(a).on("scroll",()=>{i.allowAutoScrollToBottom=!1,t(i.getSel()+" > .container").innerHeight()===t(a).height()+t(a).scrollTop()&&(i.allowAutoScrollToBottom=!0)}),i.setTitle(),s.a.BtnBox.get("task-runtime").show(),this.currentDisplayedId=e},hide(){if(null===this.currentDisplayedId)throw Error("未显示任何任务");let e=this.sel.runtime,i=r.getCurrent().getSel();t(e).hide(),t(e).off("scroll"),t(i).hide(),this.getCurrent().setOriginalTitle(),s.a.BtnBox.get("task-runtime").hide(),this.currentDisplayedId=null},log(t,e,i,s,o){if(!this.get(t))throw Error(`未找到任务 ${t}`);"boolean"==typeof o&&!0===o&&(e=a.Base64.decode(e)),this.get(t).log(e,i)}};r.taskManagerLayer=n.a,e.a=r}).call(this,i("EVdn"))},Bl1Y:function(t,e,i){"use strict";(function(t){var s=i("DPrS"),a=i("eRDz"),o=i("AYhj"),n=i("4P3Q"),l=i("J66h"),r=i("6yn5");const h={sel:{nav:".top-nav-bar",navTitle:".top-nav-bar .nav-title"},init(){t(r.a`
      <div class="left-items">
        <div class="nav-title"></div>
      </div>
      <div class="right-items">
        <div class="nav-btn-box"></div>
      </div>
    `).appendTo(this.sel.nav),h.BtnBox.groupAdd("main-btns",{taskManager:{icon:"assignment",title:"任务列表",onClick(){o.a.taskManagerLayer.toggleLayer()}},downloadManager:{icon:"download",title:"下载列表"},setting:{icon:"settings",title:"设置",onClick(){n.a.getSidebar().toggle()}}}),h.BtnBox.groupAdd("task-runtime",{backToTaskGen:{icon:"chevron-left",title:"返回任务生成器",onClick(){o.a.hide()}},removeTask:{icon:"close",title:"删除任务",onClick(){o.a.getCurrent().remove()}},showTaskInfo:{icon:"info",title:"任务详情",onClick(){o.a.getCurrent()&&o.a.getCurrent().showInfo()}}}).setMostLeft().hide()},setTitle(e,i){"boolean"==typeof i&&!0===i&&(e=l.Base64.decode(e));let s=this.sel.navTitle;t(s).addClass("changing"),setTimeout(()=>{t(s).text(e).removeClass("changing")},100)},getTitle(){return t(this.sel.navTitle).text()},BtnBox:a.a,Panel:s.a};e.a=h}).call(this,i("EVdn"))},DPrS:function(t,e,i){"use strict";(function(t){i.d(e,"a",function(){return o});var s=i("Bl1Y"),a=i("6yn5");const o={list:{},register(t,e){if(this.list.hasOwnProperty(t))return`导航栏面板： ${t} 已存在于list中`;let i=new n(t,e);return this.list[t]=i,i},get(t){return this.list.hasOwnProperty(t)?this.list[t]:null}};class n{constructor(e,i){this._key=e,this._btnName=i,this._btnElem=s.a.BtnBox.get(this.getBtnName()).getElem(),this._elem=t(a.a`<div class="navbar-panel anim-fade-in" data-navbar-panel="${e}" />`),this._isShow=!1,this.getBtnElem().after(this.getElem()),this.getBtnElem().bind("click",()=>{this.toggle()})}getKey(){return this._key}getBtnName(){return this._btnName}getBtnElem(){return this._btnElem}getElem(){return this._elem}setTitle(e){t(a.a`<div class="panel-header"><div class="panel-title">${e}</div></div>`).prependTo(this.getElem())}setInner(e){t(a.a`<div class="panel-inner"></div>`).appendTo(this.getElem()).append(e)}setSize(t,e){this.getElem().css("width",t+"px"),this.getElem().css("height",e+"px")}setPosition(){let t=this.getBtnElem()[0].getBoundingClientRect(),e=this.getElem().outerWidth();this.getElem().css("top",t.top-25+"px").css("left",t.right-e+"px")}show(){if(this.getIsShow())throw Error(`导航栏面板：${this.getKey()} 已显示`);this.setPosition(),this.getElem().addClass("show"),this._isShow=!0,setTimeout(()=>{t(document).bind("click.nav-panel-"+this.getKey(),e=>{t(e.target).is(this.getElem())||t(e.target).closest(this.getElem()).length||this.hide()})},20),t(window).bind("resize.nav-panel-"+this.getKey(),()=>{this.setPosition()}),s.a.BtnBox.get(this.getBtnName()).hideBadge()}hide(){if(!this.getIsShow())throw Error(`导航栏面板：${this.getKey()} 未显示`);t(window).unbind("resize.nav-panel-"+this.getKey()),t(document).unbind("click.nav-panel-"+this.getKey()),this.getElem().removeClass("show"),this._isShow=!1}toggle(){this.getIsShow()?this.hide():this.show()}getIsShow(){return this._isShow}}}).call(this,i("EVdn"))},ESuc:function(t,e,i){"use strict";(function(t){var s=i("6yn5");const a={loadingIndicator(e){t(s.a`
    <div class="loading-indicator" style="opacity: .9;">
      <div class="inner">
        <svg viewBox="25 25 50 50"><circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg>
      </div>
    </div>
    `).prependTo(e);let i={remove:()=>{t(e).find(".loading-indicator").remove()}};return i},floatImg(e,i){if(0!==t("body .widget-float-img").length)return;let a=t(e),o=t(e)[0].getBoundingClientRect();setTimeout(()=>{if(0===t(":hover").filter(a).length)return;let e=o.left,n=o.top;n=o.top>=window.AppWrapEl.height()-o.bottom?n-250-10:n+a.height()+10;let l=t(s.a`<div class="widget-float-img anim-fade-in" style="left: ${e}px; top: ${n}px;"></div>`).appendTo("body"),r=this.loadingIndicator(l),h=t(s.a`<img src="${i}" class="anim-fade-in" style="display: none;">`).appendTo(l);h.on("load",()=>{r.remove(),h.show()}),a.on("mouseout",t=>{l.remove()})},200)}};e.a=a}).call(this,i("EVdn"))},JJEk:function(t,e,i){"use strict";var s=i("NVxf"),a=i("r/tr");const o={Sidebar:i("9w4m").a,Dialog:s.a,Notify:a.a};e.a=o},NVxf:function(t,e,i){"use strict";(function(t){var s=i("6yn5");const a={open(e,i,a,o){0!==t(".dialog-layer").length&&t(".dialog-layer").remove();let n=t('<div class="dialog-layer anim-fade-in" />').appendTo("body"),l=()=>{n.addClass("anim-fade-out"),setTimeout(()=>{n.hide()},200)},r=t(s.a`
    <div class="dialog-inner">
      <div class="dialog-title">${e}</div>
      <div class="dialog-content">${i}</div>
    </div>
    `).appendTo(n),h=(e,i)=>{let s=t(".dialog-bottom");s.length||(s=t('<div class="dialog-bottom"></div>').appendTo(r));let a=t('<a class="dialog-btn yes-btn"></a>');a.text(e),a.click(()=>{l(),"function"==typeof i&&i()}),a.appendTo(s)};if(a&&h(a[0]||"确定",a[1]),o&&h(o[0]||"取消",o[1]),!a&&!o){let e=t('<a class="right-btn"><i class="zmdi zmdi-close"></i></a>');e.appendTo(r.find(".dialog-title")),e.click(()=>{l()})}}};e.a=a}).call(this,i("EVdn"))},PIYe:function(t,e,i){"use strict";var s=i("4P3Q");const a=window.AppAction||{};a.utilsReqIeProxy=(t=>{void 0===t&&(t=!!s.a.get("UtilsReqIeProxy")),s.a.set("UtilsReqIeProxy",t);try{a._utilsReqIeProxy(t)}catch{console.error("AppAction._utilsReqIeProxy 调用失败")}}),a.tryGetVersion=(t=>{try{a.getVersion().then(t)}catch{console.error("AppAction.getVersion 调用失败"),t(void 0)}}),e.a=a},SUzi:function(t,e,i){"use strict";(function(t){var s=i("hIu5"),a=i("AYhj"),o=i("LvDl"),n=i.n(o),l=i("6yn5");const r={sel:{form:".taskgen-form",formToggle:".taskgen-form-toggle",formToggleDropdown:".taskgen-form-toggle .namespace-dropdown",formToggleBtns:".taskgen-form-toggle .classname-btns"},current:{typeName:null,inputs:{}},init(){let e=t(l.a`
      <div class="namespace-dropdown">
        <div class="dropdown-selected"></div>
        <ul class="dropdown-option anim-fade-in"></ul>
      </div>
    `),i=e.find(".dropdown-selected"),a=e.find(".dropdown-option"),o=t('<div class="classname-btns"></div>');e.appendTo(this.sel.formToggle),o.appendTo(this.sel.formToggle);let h=()=>{t(document).unbind("click.dropdown-option"),a.removeClass("show")};i.click(()=>{a.addClass("show"),setTimeout(()=>{t(document).bind("click.dropdown-option",e=>{t(e.target).is(".dropdown-option")||t(e.target).closest(".dropdown-option").length||h()})},20)}),n.a.each(s.a,(e,s)=>{let l=t(`<li data-namespace="${s}">${e._NamespaceLabel}</li>`);l.click(()=>{o.html(""),n.a.each(e,(e,i)=>{if("_"===i.substr(0,1))return;let a=s+"."+i,n=t(`<a>${e.label}</a>`).appendTo(o);r.current.typeName&&r.current.typeName===a&&(o.find("a").removeClass("active"),t(n).addClass("active")),n.click(()=>{r.formLoad(a),o.find("a").removeClass("active"),n.addClass("active")})}),i.text(l.text()),i.attr("data-namespace",s),a.find("li").removeClass("selected"),l.addClass("selected"),h()}),l.appendTo(a)}),a.find("li:first-child").click(),o.find("a:first-child").click()},spiderListGet(t){let e=t.split(".")||null;if(!e||!e[0]||!e[1])return null;let i=e[0],a=e[1];return s.a.hasOwnProperty(i)&&s.a[i].hasOwnProperty(a)?s.a[i][a]:null},formLoad(e){if(!this.spiderListGet(e))throw Error("SpiderList 中没有 "+e+"，无法创建表单！");let i=this.spiderListGet(e),s=t(this.sel.form);s.html(""),this.current.typeName=null,this.current.inputs={},this.current.typeName=e,i.genForm(),t(l.a`<div class="form-btns"><button class="submit-btn" type="submit">执行任务</button></div>`).appendTo(s).click(()=>!!r.formCheck()&&(a.a.createTask(e,i.label,s.find(":input").serializeArray()),!1))},formCheck(){let e=!0;return n.a.each(r.current.inputs,(i,s)=>{if(!i.inputSel||0===t(i.inputSel).length)throw Error(`表单输入元素 ${s} 的 Selector 无效`);let a=i.inputSel,o=t(a),n=o.val().trim();return""===n?(o.focus(),e=!1,!1):i.validator&&!i.validator(n)?(o.addClass("has-error").focus(),o.bind("input propertychange",t=>{i.validator(o.val().trim())&&o.unbind("input propertychange").removeClass("has-error")}),e=!1,!1):void 0}),e}};e.a=r}).call(this,i("EVdn"))},TN56:function(t,e,i){(function(t){!function(t){var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,i,s){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(s),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var a=this.options.trigger.split(" "),o=a.length;o--;){var n=a[o];if("click"==n)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=n){var l="hover"==n?"mouseenter":"focusin",r="hover"==n?"mouseleave":"focusout";this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,s){i[t]!=s&&(e[t]=s)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState)i.hoverState="in";else{if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)}},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)}},e.prototype.show=function(){var i=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(i);var s=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(i.isDefaultPrevented()||!s)return;var a=this,o=this.tip(),n=this.getUID(this.type);this.setContent(),o.attr("id",n),this.$element.attr("aria-describedby",n),this.options.animation&&o.addClass("fade");var l="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,h=r.test(l);h&&(l=l.replace(r,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(l).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),c=o[0].offsetWidth,u=o[0].offsetHeight;if(h){var p=l,g=this.getPosition(this.$viewport);l="bottom"==l&&d.bottom+u>g.bottom?"top":"top"==l&&d.top-u<g.top?"bottom":"right"==l&&d.right+c>g.width?"left":"left"==l&&d.left-c<g.left?"right":l,o.removeClass(p).addClass(l)}var m=this.getCalculatedOffset(l,d,c,u);this.applyPlacement(m,l);var f=function(){var t=a.hoverState;a.$element.trigger("shown.bs."+a.type),a.hoverState=null,"out"==t&&a.leave(a)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",f).emulateTransitionEnd(e.TRANSITION_DURATION):f()}},e.prototype.applyPlacement=function(e,i){var s=this.tip(),a=s[0].offsetWidth,o=s[0].offsetHeight,n=parseInt(s.css("margin-top"),10),l=parseInt(s.css("margin-left"),10);isNaN(n)&&(n=0),isNaN(l)&&(l=0),e.top+=n,e.left+=l,t.offset.setOffset(s[0],t.extend({using:function(t){s.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),s.addClass("in");var r=s[0].offsetWidth,h=s[0].offsetHeight;"top"==i&&h!=o&&(e.top=e.top+o-h);var d=this.getViewportAdjustedDelta(i,e,r,h);d.left?e.left+=d.left:e.top+=d.top;var c=/top|bottom/.test(i),u=c?2*d.left-a+r:2*d.top-o+h,p=c?"offsetWidth":"offsetHeight";s.offset(e),this.replaceArrow(u,s[0][p],c)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(i){var s=this,a=t(this.$tip),o=t.Event("hide.bs."+this.type);function n(){"in"!=s.hoverState&&a.detach(),s.$element&&s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),i&&i()}if(this.$element.trigger(o),!o.isDefaultPrevented())return a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(e.TRANSITION_DURATION):n(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var i=(e=e||this.$element)[0],s="BODY"==i.tagName,a=i.getBoundingClientRect();null==a.width&&(a=t.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));var o=window.SVGElement&&i instanceof window.SVGElement,n=s?{top:0,left:0}:o?null:e.offset(),l={scroll:s?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=s?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},a,l,r,n)},e.prototype.getCalculatedOffset=function(t,e,i,s){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-s,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-s/2,left:e.left-i}:{top:e.top+e.height/2-s/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,i,s){var a={top:0,left:0};if(!this.$viewport)return a;var o=this.options.viewport&&this.options.viewport.padding||0,n=this.getPosition(this.$viewport);if(/right|left/.test(t)){var l=e.top-o-n.scroll,r=e.top+o-n.scroll+s;l<n.top?a.top=n.top-l:r>n.top+n.height&&(a.top=n.top+n.height-r)}else{var h=e.left-o,d=e.left+o+i;h<n.left?a.left=n.left-h:d>n.right&&(a.left=n.left+n.width-d)}return a},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var s=t(this),a=s.data("bs.tooltip"),o="object"==typeof i&&i;!a&&/destroy|hide/.test(i)||(a||s.data("bs.tooltip",a=new e(this,o)),"string"==typeof i&&a[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(t)}).call(this,i("EVdn"))},a28o:function(t,e,i){"use strict";(function(t){i.d(e,"a",function(){return a});var s=i("6yn5");class a{constructor(e){this._elem=t('<div class="setting-item"></div>').appendTo(e),this._groupDom=e}getElem(){return this._elem}btnBlock(e,i){return t(`<button type="button" class="setting-btn-block">${e}</button>`).click(i).appendTo(this.getElem())}btnToggle(e,i,a){let o=t(s.a`
        <button type="button" class="setting-btn-block setting-btn-toggle">
          <div class="left-text">${e}</div>
          <div class="toggle">
            <div class="toggle-bar"></div>
            <div class="toggle-button"></div>
          </div>
        </button>`),n=o.find(".toggle"),l={setVal:t=>{"boolean"==typeof t&&(t?n.addClass("turn-on"):n.removeClass("turn-on"))},setOn:()=>{l.setVal(!0)},setOff:()=>{l.setVal(!1)},toggle:()=>{n.hasClass("turn-on")?(n.removeClass("turn-on"),a()):(n.addClass("turn-on"),i())},getDom:()=>o};return o.click(()=>{l.toggle()}),o.appendTo(this.getElem()),l}infoShow(e,i){return t(s.a`
          <div class="two-line">
            <span class="label">${e}</span>
            <span class="value">${i}</span>
          </div>
        `).appendTo(this.getElem())}}}).call(this,i("EVdn"))},e6Wu:function(t,e,i){"use strict";i.r(e);i("8lsf"),i("OAUx"),i("yC5p"),i("TN56"),i("eoRL")},eRDz:function(t,e,i){"use strict";var s=i("LvDl"),a=i.n(s),o=i("jdVV"),n=i("fbsh");const l={sel:{navBtns:".top-nav-bar .nav-btn-box"},groupList:{},groupAdd(t,e){let i;return this.getGroup(t)?i=this.getGroup(t):(i=new o.a(t),this.groupList[t]=i),a.a.each(e,(t,e)=>{let s=new n.a(e,t.title,t.icon);"function"==typeof t.onClick&&s.getElem().click(()=>{t.onClick()}),s.getElem().tooltip(),i.addBtn(e,s)}),i},getGroup(t){return this.groupList.hasOwnProperty(t)?this.groupList[t]:null},get(t){return(t=t.split("."))[0]&&t[1]?this.getGroup(t[0]).getBtn(t[1]):t[0]&&!t[1]?this.getGroup(t[0]):null}};e.a=l},eoRL:function(t,e,i){"use strict";(function(t){var e=i("Bl1Y"),s=i("SUzi"),a=i("AYhj"),o=i("lvD/"),n=i("ESuc"),l=i("4P3Q"),r=i("JJEk"),h=i("3ZqZ"),d=i("PIYe");window.$=t,window.AppNavbar=e.a,window.TaskGen=s.a,window.Task=a.a,window.Downloads=o.a,window.AppWidget=n.a,window.Setting=l.a,window.AppLayer=r.a,window.AppUpdate=h.a,window.AppAction=d.a;const c=window.AppWrapEl=t(".wrap");t(document).ready(()=>{e.a.init(),t('[data-toggle="tooltip"]').tooltip(),setTimeout(()=>{t("body").css("opacity","1"),t(c).css("opacity","1")},10),s.a.init(),a.a.taskManagerLayer.init(),t(s.a.sel.formToggleBtns+" a:nth-child(1)").click(),o.a.init(),l.a.init(),d.a.tryGetVersion(t=>{void 0!==t&&(d.a.version=t,h.a.check(!0))}),t(document).keydown(t=>{t.altKey&&123===event.keyCode&&d.a.showDevTools()})}),window.downloadFile=(t=>{d.a.downloadUrl(t)}),t.extend({getPosition:e=>{let i=e[0],s="BODY"===i.tagName,a=i.getBoundingClientRect();null===a.width&&(a=t.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));let o=window.SVGElement&&i instanceof window.SVGElement,n=s?{top:0,left:0}:o?null:e.offset(),l={scroll:s?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=s?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},a,l,r,n)}})}).call(this,i("EVdn"))},fbsh:function(t,e,i){"use strict";(function(t){i.d(e,"a",function(){return a});var s=i("6yn5");class a{constructor(e,i,a){this._name=e,this._label=i,this._icon=a,this._elem=t(s.a`
        <a data-placement="bottom" title="${this.getLabel()}">
          <i class="zmdi zmdi-${this.getIcon()}"></i>
        </a>
      `)}getName(){return this._name}getLabel(){return this._label}getIcon(){return this._icon}showBadge(){return this._elem.addClass("show-top-badge"),this}hideBadge(){return this._elem.removeClass("show-top-badge"),this}getElem(){return this._elem}}}).call(this,i("EVdn"))},hIu5:function(t,e,i){"use strict";(function(t){var s=i("1lvT"),a=i("mojF");const o={Business:{_NamespaceLabel:"电商"}};o.Business.CollItemDescImg={label:"商品详情页图片解析",genForm(){let e=s.a.textInput("PageUrl","详情页链接","",a.a.isUrl);e.on("input propertychange",()=>{let s=t.trim(e.val()),a={Tmall:["https://detail.tmall.com"],Taobao:["https://item.taobao.com"],Alibaba:["https://detail.1688.com"],Suning:["https://product.suning.com"],Gome:["https://item.gome.com.cn"]};for(let t in a)for(let e in a[t])0===s.indexOf(a[t][e])&&i.val(t)});let i=s.a.selectInput("PageType","链接类型",{Tmall:"天猫",Taobao:"淘宝",Alibaba:"阿里巴巴",Suning:"苏宁易购",Gome:"国美在线"});s.a.selectInput("ImgType","图片类型",{Thumb:"主图",Category:"分类图",Desc:"详情图"}),s.a.selectInput("CollType","采集模式",{collImgSrcUrl:"显示图片链接",collDownloadImgSrc:"显示图片链接 并 下载打包保存"})}},o.Business.TaobaoSellerColl={label:"淘宝店铺搜索卖家ID名采集",genForm(){s.a.textInput("PageUrl","店铺搜索页链接","",a.a.isUrl),s.a.numberInput("CollBeginPage","采集开始页码",1,1),s.a.numberInput("CollEndPage","采集结束页码",void 0,1),s.a.selectInput("IgnoreTmall","忽略天猫卖家",{on:"开启",off:"关闭"})}},o.Business.TmallGxptInvite={label:"天猫供销平台分销商一键邀请",genForm(){s.a.textareaInput("SellerId","分销商ID名（一行一个）",void 0,250)}},o.Business.TmallGxptInviteDelete={label:"天猫供销平台分销商一键撤回",genForm(){s.a.numberInput("DeleteBeginPage","撤回开始页码",1,1),s.a.numberInput("DeleteEndPage","撤回结束页码",void 0,1)}},o.Picture={_NamespaceLabel:"图片"},o.Picture.Test={label:"开发测试 DEBUG...",genForm(){}},o.Debug={_NamespaceLabel:"调试"},o.Debug.Default={label:"Default",genForm(){}},e.a=o}).call(this,i("EVdn"))},jdVV:function(t,e,i){"use strict";(function(t){i.d(e,"a",function(){return n});var s=i("Bl1Y"),a=i("eRDz"),o=i("fbsh");class n{constructor(e){this._elem=t(`<div class="btn-group" data-nav-btn-group="${e}"></div>`).appendTo(a.a.sel.navBtns),this._groupName=e,this._btnList={}}setMostLeft(){return this.getElem().insertBefore(t(s.a.BtnBox.sel.navBtns+" .btn-group:first-child")),this}setMostRight(){return this.getElem().insertAfter(t(s.a.BtnBox.sel.navBtns+" .btn-group:last-child")),this}getElem(){return this._elem}getGroupName(){return this._groupName}show(){return this.getElem().show(),this}hide(){return this.getElem().hide(),this}getBtnList(){return this._btnList}addBtn(t,e){if(!(e instanceof o.a))throw Error("addBtn 第二个参数需要 BtnItem");return this._btnList[t]=e,e.getElem().appendTo(this.getElem()),e}getBtn(t){return this._btnList[t]?this._btnList[t]:null}}}).call(this,i("EVdn"))},"lvD/":function(t,e,i){"use strict";(function(t){var s=i("Bl1Y"),a=i("PIYe"),o=i("6yn5");const n=window.CrDownloadsCallBack,l={navbarBtnName:"main-btns.downloadManager",data:{list:{}},statusList:{downloading:1,pause:2,done:3,cancelled:4,fail:5},actionList:{pause:1,resume:2,cancel:3},sel:{downloadsList:".download-list"},panelKey:"downloads",localStorageConf:{key:"downloads"},init(){this.listElem=t('<div class="downloads-list"></div>');let e=s.a.Panel.register(this.panelKey,this.navbarBtnName);e.setTitle('<i class="zmdi zmdi-download"></i> 下载列表'),e.setInner(this.listElem),e.setSize(400,430),this.restoreDataList()},addTask(t){this._addTask(t.key,t.fullPath,t.downloadUrl,t.totalBytes)},_addTask(t,e,i,a){if(this.data.list[t])throw Error(`${t} 下载任务已存在，无需再新建`);this.data.list[t]={fullPath:e,downloadUrl:i,totalBytes:a,receivedBytes:0,currentSpeed:0,status:0},s.a.BtnBox.get(this.navbarBtnName).showBadge()},updateTask(t){this._updateTask(t.key,t.receivedBytes,t.currentSpeed,t.status,t.fullPath,t.downloadUrl)},_updateTask(t,e,i,s,a,o){if(!this.data.list[t])throw Error(`${t} 下载任务不存在，或许已被删除`);this.data.list[t].receivedBytes=e,this.data.list[t].currentSpeed=i,this.data.list[t].status=s,this.data.list[t].fullPath!==a&&""!==a&&(this.data.list[t].fullPath=a),this.data.list[t].downloadUrl!==o&&(this.data.list[t].downloadUrl=o),this.updateItemUi(t),this.storeDataList()},getItemElem(t){return this.listElem.find(`[data-key="${t}"]`)},updateItemUi(e){if(!this.data.list[e])throw Error(`${e} 下载任务不存在，或许已被删除`);let i=this.data.list[e],s=this.getItemElem(e);0===s.length&&t(o.a`
      <div class="download-item" data-key="${e}">
        <div class="details">
          <div class="header">
            <a class="file-name" onclick="Downloads.fileLaunch('${e}')"></a>
            <a class="download-url" onclick="Downloads.urlOpenInDefaultBrowser('${e}')">${i.downloadUrl}</a>
          </div>
          <div class="description"></div>
          <div class="progress"><div class="progress-bar"></div></div>
          <div class="action-bar"></div>
        </div>
        <div class="icon-wrapper">
          <button class="remove-btn" title="从列表中移除" onclick="Downloads.taskRemove('${e}')">✕</button>
        </div>
      </div>
      `).prependTo(this.listElem);let a=s.find(".file-name"),n=s.find(".progress"),l=s.find(".progress .progress-bar"),r=s.find(".description"),h=s.find(".action-bar");s.attr("dl-status")!==this.getStatusName(i.status)&&s.attr("dl-status",this.getStatusName(i.status)),a.text()!==this.extractFilename(i.fullPath)&&a.text(this.extractFilename(i.fullPath));let d=this.bytesToSize(i.currentSpeed)+"/s",c=this.bytesToSize(i.receivedBytes),u=this.bytesToSize(i.totalBytes),p="",g="",m="";switch(i.status){case this.statusList.downloading:0!==i.totalBytes?(n.hasClass("indeterminate")&&n.removeClass("indeterminate"),m=(i.receivedBytes/i.totalBytes*100).toFixed(2)+"%",l.css("width")!==m&&l.css("width",m),p=`${m}，速度 ${d}，已下载 ${c}，共 ${u}`):(n.hasClass("indeterminate")||n.addClass("indeterminate"),p=`速度 ${d}，已下载 ${c}`),g=o.a`
          <a onclick="Downloads.taskAction('${e}', Downloads.actionList.pause)">暂停</a>
          <a onclick="Downloads.taskAction('${e}', Downloads.actionList.cancel)">取消</a>
        `;break;case this.statusList.pause:p=0!==i.totalBytes?`${m}，已下载 ${c}，共 ${u}`:`已下载 ${c}`,g=o.a`
          <a onclick="Downloads.taskAction('${e}', Downloads.actionList.resume)">恢复</a>
          <a onclick="Downloads.taskAction('${e}', Downloads.actionList.cancel)">取消</a>
        `;break;case this.statusList.done:p=`总大小：${c}`,g=`<a onclick="Downloads.fileShowInExplorer('${e}')">在文件夹中显示</a>`;break;case this.statusList.cancelled:case this.statusList.fail:g=`<a onclick="Downloads.downloadAgain('${e}')">重试下载</a>`}r.text()!==p&&r.text(p),h.html()!==g&&h.html(g)},taskAction(t,e){if(!this.data.list[t])throw Error(`任务操作失败，或许已被删除，未找到 ${t}`);n.downloadingTaskAction(t,e)},taskRemove(t){if(!this.data.list[t])throw Error(`任务从列表移除失败，或许已被删除，未找到 ${t}`);this.isTaskInProgress(t)&&n.downloadingTaskAction(t,this.actionList.cancel),delete this.data.list[t],this.getItemElem(t).hide(),this.storeDataList()},countDownloadingTask(){let t=0;for(let e in this.data.list)this.isTaskInProgress(e)&&t++;return t},restoreDataList(){let t=localStorage.getItem(this.localStorageConf.key);if(null===t)return;let e=JSON.parse(t);this.data.list={};for(let t in e)e.hasOwnProperty(t)&&(this.data.list[t]=e[t],this.isTaskInProgress(t)&&(this.data.list[t].status=this.statusList.cancelled),this.updateItemUi(t))},storeDataList(){localStorage.setItem(this.localStorageConf.key,JSON.stringify(this.data.list))},removeDataList(){for(let t in this.data.list)this.isTaskInProgress(t)&&this.taskAction(t,this.actionList.cancel);this.data.list={},this.listElem.find(".download-item").remove(),localStorage.setItem(this.localStorageConf.key,null),s.a.BtnBox.get(this.navbarBtnName).hideBadge()},fileLaunch(t){this.data.list[t]&&this.data.list[t].status===this.statusList.done&&n.fileLaunch(this.data.list[t].fullPath).then(e=>{e||(l.data.list[t].status=l.statusList.cancelled,l.updateItemUi(t))})},urlOpenInDefaultBrowser(t){this.data.list[t]&&n.urlOpenInDefaultBrowser(this.data.list[t].downloadUrl)},fileShowInExplorer(t){this.data.list[t]&&n.fileShowInExplorer(this.data.list[t].fullPath).then(e=>{e||(l.data.list[t].status=l.statusList.cancelled,l.updateItemUi(t))})},isTaskInProgress(t){return!!this.data.list[t]&&(this.data.list[t].status!==this.statusList.done&&this.data.list[t].status!==this.statusList.cancelled)},downloadAgain(t){if(!this.data.list[t])return!1;a.a.downloadUrl(this.data.list[t].downloadUrl)},getTask(t){return this.data.list[t]?this.data.list[t]:null},getStatusName(t){for(let e in this.statusList)if(this.statusList.hasOwnProperty(e)&&this.statusList[e]===t)return e},extractFilename(t){let e=Math.max(t.lastIndexOf("\\"),t.lastIndexOf("/"));return t.substring(e+1)},bytesToSize(t){if(0===t)return"0 B";let e=Math.floor(Math.log(t)/Math.log(1e3));return(t/Math.pow(1e3,e)).toPrecision(3)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}};e.a=l}).call(this,i("EVdn"))},mojF:function(t,e,i){"use strict";const s={isEmail(t){if(null===t||""===t)return!1;return!!t.match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/)},isQq(t){if(null===t||""===t)return!1;return!!t.match(/^[1-9]\d{4,12}$/)},isEnglish(t){if(null===t||""===t)return!1;return!!t.match(/^[A-Za-z]+$/)},isInteger(t){if(null===t||""===t)return!1;return!!t.match(/^[-\\+]?\d+$/)},isDouble(t){if(null===t||""===t)return!1;return!!t.match(/^[-\\+]?\d+(\.\d+)?$/)},isUrl(t){if(null===t||""===t)return!1;return!!t.match(/^(http|https):\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\\\/=\\?%\-&_~`@[\]\\’:+!]*([^<>\\"])*$/)}};e.a=s},"r/tr":function(t,e,i){"use strict";(function(t){var s=i("6yn5");const a={success(t){this.show(t,"s")},error(t){this.show(t,"e")},show(e,i,a){a="number"==typeof a?a:2e3;let o=t(".notify-layer");o.length||(o=t('<div class="notify-layer" />').appendTo("body"));let n,l=t(s.a`
      <div class="notify-item anim-fade-in ${i?"type-"+i:""}">
        <p class="notify-content">${e}</p>
      </div>
    `).prependTo(o),r=()=>{l.addClass("anim-fade-out"),setTimeout(()=>{l.remove()},200)};a>0&&(n=setTimeout(()=>{r()},a)),l.click(()=>{r(),clearTimeout(n)})}};e.a=a}).call(this,i("EVdn"))},rQQZ:function(t,e,i){"use strict";(function(t){var s=i("6yn5"),a=i("AYhj"),o=i("Bl1Y"),n=i("JJEk");const l=window.TaskController;e.a=class{constructor(e,i,o,n){this._taskId=e,this._typeName=i,this._classLabel=o,this._parmsObj=n,this._taskItemSel=`[data-task-id="${e}"]`,this._taskLogTableSel=`${this._taskItemSel} .task-log-table`,this.isInProgress=!0,this.allowAutoScrollToBottom=!0,this.elem=t(s.a`
      <div class="task-item" data-task-id="${e}" style="display: none">
        <div class="container" style="width: 95%;">
        <div class="task-log-table"></div>
      </div>
    `).appendTo(a.a.sel.runtime)}getId(){return this._taskId}getTypeName(){return this._typeName}getClassLabel(){return this._classLabel}getParmsObj(){return this._parmsObj}setTitle(){o.a.setTitle(this.getTitle())}getTitle(){return`${this.getClassLabel()} 任务ID：${this.getId()}`}setOriginalTitle(){o.a.setTitle("")}show(){a.a.show(this.getId())}hide(){a.a.hide()}showInfo(){n.a.Dialog.open("任务信息",`ID：${this.getId()}<br>`+`标题：${this.getTitle()}<br><br>`+`调用类标签：${this.getClassLabel()}<br>`+`调用类名：${this.getTypeName()}<br><br>`+`执行开始时间：${new Date(parseInt(this.getId()))}<br><br>`+`参数：${JSON.stringify(this.getParmsObj())}`)}log(e,i){let s=t('<div class="line" style="display: none" />'),a={I:"消息",S:"成功",W:"警告",E:"错误"},o="";a[i]&&(s.attr("data-level",i),o+=`<span class="tag">[${a[i]}]</span> `),o+=(t=>t.replace(/\n/g,"<br/>"))(e),s.html(o),s.appendTo(this._taskLogTableSel),s.css("display",""),this.scrollToBottom()}scrollToBottom(){t(a.a.sel.runtime).scrollTop(t(a.a.sel.runtime)[0].scrollHeight)}remove(){this.getIsInProgress()?n.a.Dialog.open("删除任务",`任务 “${this.getTitle()}” 正在执行中...`,["中止并删除任务",()=>{l.abortTask(this.getId()).then(t=>{t?this._remove():n.a.Notify.error("任务中止失败")})}],["取消",()=>{}]):this._remove()}_remove(){a.a.getCurrent()&&a.a.getCurrent().getId()===this.getId()&&this.hide(),delete a.a.list[this.getId()],a.a.taskManagerLayer.removeItem(this.getId()),n.a.Notify.success("任务删除成功")}taskIsEnd(){this.isInProgress=!1}getIsInProgress(){return this.isInProgress}getSel(){return this._taskItemSel}getLogTableSel(){return this._taskLogTableSel}}}).call(this,i("EVdn"))},"t/PT":function(t,e,i){"use strict";var s=i("PIYe"),a=i("JJEk"),o=i("lvD/"),n=i("3ZqZ"),l=i("a28o");e.a=((t,e)=>{let i=e("downloads","下载内容");new l.a(i).btnBlock("下载列表清空",()=>{o.a.removeDataList(),a.a.Notify.success("下载列表已清空")});let r=e("downloads","网络配置");new l.a(r).btnToggle("采集请求跟随 IE 代理配置",()=>{s.a.utilsReqIeProxy(!0)},()=>{s.a.utilsReqIeProxy(!1)}).setVal(!!t.get("UtilsReqIeProxy"));let h=e("maintenance","维护");new l.a(h).btnBlock("日志文件清理",()=>{s.a.logFileClear().then(()=>{a.a.Notify.success("日志文件已清理")})});let d=new l.a(h).btnBlock("检查更新",()=>{d.text("正在检查更新..."),n.a.check(!1,()=>{d.text("检查更新")})}),c=e("about","关于"),u=new l.a(c).infoShow("版本号","").find(".value");s.a.tryGetVersion(t=>{u.text(t||"未知版本号")}),new l.a(c).infoShow("作者",'<a href="https://github.com/qwqcode" target="_blank">qwqcode</a>'),new l.a(c).infoShow("联系","1149527164@qq.com"),new l.a(c).infoShow("博客",'<a href="https://qwqaq.com" target="_blank">qwqaq.com</a>'),new l.a(c).infoShow("GitHub",'<a href="https://github.com/qwqcode/Nacollector" target="_blank">qwqcode/Nacollector</a>'),new l.a(c).infoShow("反馈问题",'<a href="https://github.com/qwqcode/Nacollector/issues" target="_blank">GitHub issue</a>'),new l.a(c).infoShow("",'<a href="https://raw.githubusercontent.com/qwqcode/Nacollector/master/LICENSE" target="_blank">您使用 Nacollector 即视为您已阅读并同意本《Nacollector 用户使用许可协议》的约束</a>'),new l.a(c).infoShow("",'<a href="https://github.com/qwqcode/Nacollector" target="_blank">Nacollector</a> Copyright (C) 2018 <a href="https://qwqaq.com" target="_blank">qwqaq.com</a>')})},yC5p:function(t,e){var i,s,a,o,n;i=window,s={},a=[{listener:null,exceptions:[]}],o=Node.prototype.addEventListener,n=Node.prototype.removeEventListener,Object.defineProperty(Node.prototype,"onoutclick",{set:function(t){return a[0]={exceptions:[this],listener:t&&t.bind(this)},t}}),i.Node.prototype.addEventListener=function(t,e,i){if("outclick"==t){for(var n;s[n=(1e5*Math.random()).toString()];);return s[n]=e,(i=i||[]).push(this),a.push({exceptions:i,listener:e&&e.bind(this),id:n}),n}o.apply(this,arguments)},i.document.addEventListener("click",function(t){for(var e=a.length;e--;){for(var i=a[e],s=!1,o=i.exceptions.length;o--;)if(i.exceptions[o].contains(t.target)){s=!0;break}s||i.listener&&i.listener(t)}}),i.Node.prototype.removeEventListener=function(t,e){if("outclick"==t){var i=-1;if("function"==typeof e){for(o in s)if(e.toString()==s[o].toString()){i=o;break}}else i=e;for(var o=a.length;o--;)if(a[o].id==i){a.splice(o,1);break}}else n.apply(this,arguments)},i=document.querySelectorAll("[outclick]"),[].forEach.call(i,function(t){var e=t.getAttribute("outclick");e=Function(e),a.push({listener:e,exceptions:[t]})})}},[["e6Wu",1,2]]]);